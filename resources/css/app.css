/**
 * Main Stylesheet
 *
 * This file is organized into the following sections:
 * 1. Base Imports
 * 2. Theme Variables
 * 3. Typography & General Content Styling
 * 4. Code & Block Styling
 * 5. Page & Post Styling
 * 6. Form Styling (Gravity Forms)
 * 7. WooCommerce Styling
 *   7.1. Single Product
 *   7.2. Product Gallery
 *   7.3. Product Archive
 *   7.4. Breadcrumbs
 * 8. Comments Styling
 * 9. Pattern Block Styling
 * 10. Button Style Variants
 * 11. FAQ Section Styling
 * 12. WordPress Layout Fixes
 */

/* -----------------------------------------------------------------------------
 * 1. Base Imports
 * -------------------------------------------------------------------------- */
@import './fonts.css';

/**
 * Tailwind CSS Integration with WordPress
 * 
 * The directive @import "tailwindcss" theme(static); does two important things:
 * 1. Imports the core Tailwind CSS framework
 * 2. The theme(static) parameter tells Tailwind to generate all classes at build time
 *    rather than dynamically at runtime, which improves performance.
 *    "static" means the utility classes are pre-generated rather than created on-demand.
 */
@import "tailwindcss" theme(static);
@source "../views/";
@source "../../app/";

/* -----------------------------------------------------------------------------
 * 2. Theme Variables
 * -------------------------------------------------------------------------- */
@theme {
  /* Font families */
  --font-open-sans: "Open Sans", sans-serif;
  --font-menlo: "Menlo", monospace;
  --font-montserrat: "Montserrat", sans-serif;

  /* Font sizes matching theme.json */
  --wp--preset--font-size--xs: 0.75rem;
  --wp--preset--font-size--sm: 0.875rem;
  --wp--preset--font-size--base: 1rem;
  --wp--preset--font-size--lg: 1.125rem;
  --wp--preset--font-size--xl: 1.25rem;
  --wp--preset--font-size--2xl: 1.5rem;
  --wp--preset--font-size--3xl: 1.875rem;
  --wp--preset--font-size--4xl: 2.25rem;
  --wp--preset--font-size--5xl: 3rem;
  --wp--preset--font-size--6xl: 3.75rem;
  --wp--preset--font-size--7xl: 4.5rem;
  --wp--preset--font-size--8xl: 6rem;
  --wp--preset--font-size--9xl: 8rem;

  /* Semantic color mappings (matching Moiraine/Ollie structure) */
  --color-primary:        var(--wp--preset--color--primary);
  --color-primary-accent: var(--wp--preset--color--primary-accent);
  --color-primary-dark:   var(--wp--preset--color--primary-dark);
  --color-main:           var(--wp--preset--color--main);
  --color-main-accent:    var(--wp--preset--color--main-accent);
  --color-base:           var(--wp--preset--color--base);
  --color-secondary:      var(--wp--preset--color--secondary);
  --color-tertiary:       var(--wp--preset--color--tertiary);
  --color-border-light:   var(--wp--preset--color--border-light);
  --color-border-dark:    var(--wp--preset--color--border-dark);
}

/* -----------------------------------------------------------------------------
 * 3. Typography & General Content Styling
 * -------------------------------------------------------------------------- */

/* Prevent horizontal scrollbar from Slick carousel
 * The carousel's .slick-track extends beyond viewport for infinite scrolling
 * Note: .alignfull blocks are now self-constrained with max-width: 100vw
 */
html,
body {
  max-width: 100%;
  overflow-x: hidden;
}

/*
 * Heading styles - moved from theme.json for easier override
 * These styles apply to all h1-h6 elements across the site
 */
h1 {
  font-family: var(--font-open-sans);
  font-weight: 800;
  font-size: var(--wp--preset--font-size--3xl);
  line-height: 1.2;
  color: white;
}

h2 {
  font-family: var(--font-open-sans);
  font-weight: 700;
  font-size: var(--wp--preset--font-size--3xl);
  line-height: 1.3;
  color: black;
}

h3 {
  font-family: var(--font-open-sans);
  font-weight: 600;
  font-size: var(--wp--preset--font-size--2xl);
  line-height: 1.4;
  color: black;
}

h4 {
  font-family: var(--font-open-sans);
  font-weight: 500;
  font-size: var(--wp--preset--font-size--xl);
  line-height: 1.4;
  color: black;
}

h5 {
  font-family: var(--font-open-sans);
  font-weight: 400;
  font-size: var(--wp--preset--font-size--lg);
  line-height: 1.4;
  color: black;
}

h6 {
  font-family: var(--font-open-sans);
  font-weight: 300;
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.4;
  color: black;
}

/* Paragraph styles - moved from theme.json */
p {
  font-family: var(--font-open-sans);
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.8;
  color: var(--color-main-accent);
}

/* List item styles to match paragraph styling */
li {
  font-family: var(--font-open-sans);
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.8;
  color: var(--color-main-accent);
}

/* Standard paragraph styling within content */
.e-content p {
  font-family: var(--font-open-sans);
  @apply text-base leading-relaxed;
  color: var(--color-main-accent);
}

/* Link styling for content areas only - distinctive color without underlines */
/* Target specific content areas where blog post and page content appears */
.e-content a,
.entry-summary a,
.entry-content a,
.post-content a,
.page-content a,
.prose a,
article .e-content a,
article .entry-summary a,
.wp-block-group a:not(.wp-element-button),
.wp-block-post-content a:not(.wp-element-button) {
  color: var(--color-primary) !important;
  text-decoration: none !important;
  transition: color 0.2s ease;
}

.e-content a:hover,
.entry-summary a:hover,
.entry-content a:hover,
.post-content a:hover,
.page-content a:hover,
.prose a:hover,
article .e-content a:hover,
article .entry-summary a:hover,
.wp-block-group a:not(.wp-element-button):hover,
.wp-block-post-content a:not(.wp-element-button):hover {
  color: var(--color-primary-dark) !important;
}

/* Navigation links - override Tailwind base layer */
#menu a {
  color: var(--color-secondary); /* #98999a - light gray */
  text-decoration: none;
}

/* Navigation hover state */
#menu a:hover {
  color: #ffffff;
}

/* Navigation dropdown - pseudo-element bridge to prevent gap hover issues */
/* Creates an invisible bridge between parent menu item and dropdown menu */
/* This fills the mt-2 gap so hover state doesn't break when moving to dropdown */
@media (min-width: 1024px) {
  #menu .group.relative:has(> ul[role="menu"])::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    height: 0.5rem; /* 8px bridge to fill mt-2 gap */
    z-index: 49; /* Below dropdown (z-50) but above page content */
    display: block;
  }
}

/* Footer links should inherit their parent styles */
footer a {
  color: inherit;
  text-decoration: inherit;
}

/* Common spacing for content elements */
.e-content input,
.e-content textarea,
.e-content select,
.e-content pre,
.e-content blockquote,
.e-content figure,
.e-content table,
.e-content p,
.e-content ul,
.e-content ol,
.e-content dl,
.e-content form {
  @apply mb-3;  /* This replaces margin-bottom: $base-line-height 0.75 rem */
}

/* -----------------------------------------------------------------------------
 * 4. Code & Block Styling
 * -------------------------------------------------------------------------- */

/* Inline code styling */
code {
  @apply text-sm whitespace-normal break-words bg-gray-100 border-gray-200 border-2 rounded-sm font-menlo text-gray-800;
}

/* Code block styling */
pre > code {
  @apply block whitespace-pre-wrap break-words leading-6 border-none;
}

/* WordPress code block */
.wp-block-code {
  @apply my-5 rounded-md bg-gray-100 pt-5 px-6 pb-6 md:mr-5 font-menlo;
}

/* Latest posts block styling */
.post .wp-block-latest-posts__list {
  @apply list-disc leading-7 text-gray-500;
}

.post .wp-block-latest-posts__list .wp-block-latest-posts__post-title {
  @apply text-main-accent;
}

.wp-block-list {
  @apply list-disc list-inside;
}

/* -----------------------------------------------------------------------------
 * 5. Page & Post Styling
 * -------------------------------------------------------------------------- */

/* Page list styling */
.page .main ul {
  @apply list-disc pl-5 my-3;
}

/* -----------------------------------------------------------------------------
 * 6. Form Styling (Gravity Forms)
 * -------------------------------------------------------------------------- */

/**
 * Custom styles for Gravity Forms on top of theme styling in
 * block editor using the Orbital theme.
 */
 	
body .gform_wrapper .gform_body .gform_fields .gfield input,
body .gform_wrapper .gform_body .gform_fields .gfield textarea {
  @apply block w-full p-6 border border-gray-300 rounded-lg
  bg-gray-50 text-base focus:ring-blue-500 focus:border-blue-500;
  color: var(--color-main);
}

body .gform_wrapper .gform_body {
  @apply mx-3 md:mx-0;
}

/* -----------------------------------------------------------------------------
 * 7. WooCommerce Styling
 * -------------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * 7.1. Single Product
 * -------------------------------------------------------------------------- */

/* Product title styles removed - using theme.json heading styles instead */

.single-product .price {
  @apply font-open-sans font-semibold text-2xl leading-9 pr-5 mr-5;
  color: var(--color-main);
}

.single-product .woocommerce-product-details__short-description {
  @apply text-base font-normal mb-5;
  color: var(--color-main-accent);
}

.single-product .quantity {
  @apply flex sm:items-center sm:justify-center w-full;
}

.single-product .quantity .qty {
  @apply font-semibold cursor-pointer text-lg py-[13px] px-6 w-full sm:max-w-[118px]
  outline-0 border-y border-gray-400 mb-4 bg-transparent text-center hover:bg-gray-50;
  color: var(--color-main);
}

.single-product .quantity .qty::placeholder {
  color: var(--color-main);
}

/* if reapplied again need to check need for rounded corners*/
.single-product .single_add_to_cart_button {
  @apply text-center w-full px-5 py-4 rounded-[100px] bg-indigo-600 flex items-center justify-center font-semibold text-lg 
  text-white shadow-sm transition-all duration-500 hover:bg-indigo-700 hover:shadow-indigo-400;
}

.single-product .product_meta {
  @apply text-gray-500 text-sm mt-4;
}

.single-product .woocommerce-product-gallery {
  @apply h-full max-lg:mx-auto;
}

.single-product .woocommerce-product-gallery__image img {
  @apply max-lg:mx-auto lg:ml-auto h-full object-cover;
}


/* -----------------------------------------------------------------------------
 * 7.2. Product Gallery
 * -------------------------------------------------------------------------- */

.woocommerce-product-gallery {
  @apply relative w-full max-w-2xl mx-auto;
}

.woocommerce-product-gallery__wrapper {
  @apply relative aspect-[4/5] w-full;
}

.woocommerce-product-gallery__image {
  @apply h-full w-full;
}

.woocommerce-product-gallery__image img {
  @apply h-full w-full object-cover;
}

.woocommerce-product-gallery__trigger {
  @apply absolute right-4 top-4 z-10 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md;
}

/* Fix zoom image container */
.zoomImg {
  @apply max-w-none max-h-none;
}

/**
* WooCommerce Product Description 
*/
.single-product .prose {
  @apply text-gray-600;
}

/* Product description heading styles removed - using theme.json heading styles instead */

.single-product .prose p {
  @apply mb-4  text-neutral-500 font-open-sans text-lg;
}

.single-product .prose ul {
  @apply list-disc pl-5 mb-4;
}

.single-product .prose li {
  @apply text-neutral-500 font-open-sans text-lg;
}

/**
 * WooCommerce Product Gallery
 */
.product-gallery {
  @apply relative w-full;
}

.gallery-main {
  @apply w-full mb-4;
}

.gallery-main img {
  @apply w-full h-auto object-cover;
}

.gallery-thumbs {
  @apply grid grid-cols-[repeat(auto-fill,minmax(80px,1fr))] gap-2 w-full;
}

.gallery-thumb {
  @apply cursor-pointer opacity-60 transition-opacity duration-200;
}

.gallery-thumb:hover,
.gallery-thumb.active {
  @apply opacity-100;
}

.gallery-thumb img {
  @apply w-full h-auto object-cover;
}

/* -----------------------------------------------------------------------------
 * 7.3. Product Archive
 * -------------------------------------------------------------------------- */

.woocommerce ul.products li.product a img {
  @apply transition duration-300 ease-in-out;
}

.woocommerce ul.products li.product a img:hover {
  @apply filter brightness-75;
}

.woocommerce-products-header {
  @apply my-4 ml-6 sm:ml-8  font-open-sans text-black font-semibold text-lg
 }

 .post-type-archive-product .products .add_to_cart_button {
  @apply text-center w-full px-3 py-2  bg-indigo-600 flex items-center justify-center font-semibold text-lg 
  text-white hover:text-white shadow-sm transition-all duration-500 hover:bg-indigo-700 hover:shadow-indigo-400;
}

/* -----------------------------------------------------------------------------
 * 7.4. Breadcrumbs
 * -------------------------------------------------------------------------- */

 .single-product .woocommerce-breadcrumb,
 .post-type-archive-product .site-main .woocommerce-breadcrumb {
  @apply my-4  ml-6 sm:ml-8 font-open-sans text-gray-500 font-semibold text-sm
 }

 /** Additional classes for comments */

.comment-metadata {
  @apply my-2;
}

.comment-author img {
  @apply mb-4;
}

/**
 * Comment Form Styling
 */

.comment-form .submit {
  @apply bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 
  shadow-sm transition-all duration-300 cursor-pointer w-full sm:w-auto;
}

.comment-form input[type="text"],
.comment-form input[type="email"],
.comment-form input[type="url"],
.comment-form textarea {
  @apply block w-full p-3 border border-gray-300 rounded-lg
  bg-gray-50 text-base focus:ring-indigo-500 focus:border-indigo-500;
  color: var(--color-main);
}

/** Comments Form Label Styling */
.comment-form label {
  @apply block mb-1 font-medium text-gray-700;
}

/* Comment reply title styles removed - using theme.json heading styles instead */

/* -----------------------------------------------------------------------------
 * 8. Comments Styling
 * -------------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * 9. Pattern Block Styling
 * -------------------------------------------------------------------------- */

/* Removed the duplicate ::before content rules that were creating duplicate icons */

.pricing-table-container .feature-item {
  @apply mb-4;
}

/* Custom badge styling */
.pricing-table-container .popular-badge {
  @apply py-1 px-3 rounded-full text-xs font-semibold;
  background-color: var(--wp--preset--color--primary-accent, #e9e7ff);
  color: var(--wp--preset--color--primary, #5344F4);
}

/* Add subtle hover effect to pricing columns */
.pricing-table-container .wp-block-column {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.pricing-table-container .wp-block-column:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
}

/* Style the CTA button hover state */
.pricing-table-container .wp-block-button__link:hover {
  filter: brightness(0.95);
}

/* Add subtle hover effect to pricing columns */
.modern-pricing-table-container .wp-block-column {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.modern-pricing-table-container .wp-block-column:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
}

/* Style the CTA button hover state */
.modern-pricing-table-container .wp-block-button__link:hover {
  filter: brightness(0.95);
}

/* -----------------------------------------------------------------------------
 * 10. FAQ Section Styling Moved to FAQ Block
 * -------------------------------------------------------------------------- */


/* Add support for block editor color classes (semantic naming) */
.has-primary-color {
  color: var(--color-primary);
}
.has-primary-accent-color {
  color: var(--color-primary-accent);
}
.has-primary-dark-color {
  color: var(--color-primary-dark);
}
.has-main-color {
  color: var(--color-main);
}
.has-main-accent-color {
  color: var(--color-main-accent);
}
.has-base-color {
  color: var(--color-base);
}
.has-secondary-color {
  color: var(--color-secondary);
}
.has-tertiary-color {
  color: var(--color-tertiary);
}
.has-border-light-color {
  color: var(--color-border-light);
}
.has-border-dark-color {
  color: var(--color-border-dark);
}

/* Add support for block editor font family classes */
.has-open-sans-font-family {
  font-family: var(--font-open-sans);
}
.has-montserrat-font-family {
  font-family: var(--font-montserrat);
}

/* -----------------------------------------------------------------------------
 * 10. Button Style Variants (matching Moiraine patterns)
 * -------------------------------------------------------------------------- */

/* Default button styles - reset to ensure no double borders */
.wp-block-button .wp-block-button__link {
  border: none;
  transition: all 0.2s ease; /* Smooth transition for all button interactions */
}

/* Universal hover state for all buttons (including is-style-fill and default buttons)
 * Uses brightness filter to work with any button color - darkens on hover
 * Adds subtle lift effect and shadow for professional interaction feedback */
.wp-block-button .wp-block-button__link:hover {
  filter: brightness(0.9);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Outline button style (existing) */
.wp-block-button.is-style-outline .wp-block-button__link {
  background-color: transparent;
  border: 2px solid currentColor;
  color: var(--wp--preset--color--main, #1E1E26);
}

.wp-block-button.is-style-outline .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--main, #1E1E26);
  color: white;
}

/* Secondary button style */
.wp-block-button.is-style-secondary-button .wp-block-button__link {
  background-color: transparent;
  border: 1px solid var(--wp--preset--color--border-light, #E3E3F0);
  color: var(--wp--preset--color--main, #1E1E26);
  font-size: 0.75rem; /* x-small size like Moiraine */
  padding: 0.5rem 1rem;
  font-weight: 600;
}

.wp-block-button.is-style-secondary-button .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--main, #1E1E26);
  color: white;
  border-color: var(--wp--preset--color--main, #1E1E26);
}

/* Light button style */
.wp-block-button.is-style-button-light .wp-block-button__link {
  background-color: var(--wp--preset--color--white, #ffffff);
  border: 1px solid var(--wp--preset--color--border-light, #E3E3F0);
  color: var(--wp--preset--color--main, #1E1E26);
  font-size: 0.75rem; /* x-small size like Moiraine */
  padding: 0.5rem 1rem;
  font-weight: 600;
}

.wp-block-button.is-style-button-light .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--main, #1E1E26);
  color: white;
  border-color: var(--wp--preset--color--main, #1E1E26);
}

/* Dark button style */
.wp-block-button.is-style-button-dark .wp-block-button__link {
  background-color: var(--wp--preset--color--main, #171b23);
  color: white;
  border: 1px solid var(--wp--preset--color--main, #171b23);
  font-weight: 600;
}

.wp-block-button.is-style-button-dark .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--primary, #017cb6);
  border-color: var(--wp--preset--color--primary, #017cb6);
}

/* Support for x-small font size class used in Moiraine patterns */
.wp-block-button.has-x-small-font-size .wp-block-button__link {
  font-size: 0.75rem;
  padding: 0.5rem 1rem;
}

/* -----------------------------------------------------------------------------
 * 11. WordPress Layout Fixes
 * -------------------------------------------------------------------------- */

/**
 * WordPress-Native Layout System
 *
 * WordPress core handles max-width and centering, but NOT horizontal padding.
 * These rules add padding to prevent content from touching viewport edges on mobile.
 *
 * See: docs/CONTENT-WIDTH-AND-LAYOUT.md for full documentation
 */

/**
 * Padding for Standalone Content (paragraphs, headings, lists, images)
 *
 * This rule adds horizontal padding to content that is NOT inside a block wrapper.
 * Examples: standalone paragraphs, headings, lists, images added directly to the page.
 *
 * Excludes .alignwide and .alignfull blocks - they manage their own layout.
 * Uses :where() for zero specificity - allows user-defined padding to override.
 *
 * IMPORTANT: This works alongside block-specific padding (Option 3).
 * - Standalone content: Gets padding from this rule
 * - Blocks with full-width backgrounds: Handle their own padding in block CSS
 */
:where(.is-layout-constrained) > :not(.alignfull):not(.alignwide) {
  padding-left: var(--wp--preset--spacing--50);
  padding-right: var(--wp--preset--spacing--50);
}

/**
 * Override universal padding for blocks with inner wrappers
 *
 * Some blocks use WordPress's .wp-block-group__inner-container or similar wrappers
 * that already handle padding. This prevents double padding on those blocks.
 *
 * Blocks with this pattern:
 * - About Block: Uses .wp-block-group__inner-container
 * - Any future blocks using WordPress group patterns
 */
.wp-block-imagewize-about .wp-block-group__inner-container > * {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/**
 * Block-Specific Padding Approach (Option 3)
 *
 * Each block that needs horizontal padding handles it in its own CSS file.
 * This prevents conflicts between different block patterns and gives each block full control.
 *
 * Blocks that need padding add it in their own style.css:
 * - CTA Columns: Padding on direct children
 * - Multi-Column-Content: Padding on direct children
 * - Page Heading Blue: Padding on __content wrapper (already has it)
 * - Other blocks: Handle their own padding as needed
 *
 * This approach:
 * - Avoids universal selectors that cause conflicts
 * - Each block is self-contained and predictable
 * - Easy to debug (padding is where the block is defined)
 * - No triple-padding issues
 * - Full-width background blocks work correctly
 *
 * See: docs/CONTENT-WIDTH-AND-LAYOUT.md for full explanation
 */