/**
 * Main Stylesheet
 *
 * This file is organized into the following sections:
 * 1. Base Imports
 * 2. Theme Variables
 * 3. Typography & General Content Styling
 *   3.1. Headings & Paragraphs
 *   3.2. Link Styling
 *   3.3. Navigation Links
 * 4. Code & Block Styling
 * 5. Page & Post Styling
 * 6. Form Styling (Gravity Forms)
 * 7. WooCommerce Styling
 *   7.1. Single Product
 *   7.2. Product Gallery
 *   7.3. Product Archive
 *   7.4. Breadcrumbs
 * 8. Comments Styling
 * 9. Pattern Block Styling
 * 10. Button Style Variants
 * 11. WordPress Layout Fixes
 * 12. Mobile Navigation Accordion
 * 13. WooCommerce Product Page Content Styling
 * 14. Search Results Page
 * 15. Search Overlay
 */

/* -----------------------------------------------------------------------------
 * 1. Base Imports
 * -------------------------------------------------------------------------- */
@import './fonts.css';

/**
 * Tailwind CSS Integration with WordPress
 * 
 * The directive @import "tailwindcss" theme(static); does two important things:
 * 1. Imports the core Tailwind CSS framework
 * 2. The theme(static) parameter tells Tailwind to generate all classes at build time
 *    rather than dynamically at runtime, which improves performance.
 *    "static" means the utility classes are pre-generated rather than created on-demand.
 */
@import "tailwindcss" theme(static);
@source "../views/";
@source "../../app/";

/* -----------------------------------------------------------------------------
 * 2. Theme Variables
 * -------------------------------------------------------------------------- */
@theme {
  /* Font families */
  --font-open-sans: "Open Sans", sans-serif;
  --font-menlo: "Menlo", monospace;
  --font-montserrat: "Montserrat", sans-serif;

  /* Font sizes matching theme.json */
  --wp--preset--font-size--xs: 0.75rem;
  --wp--preset--font-size--sm: 0.875rem;
  --wp--preset--font-size--base: 1rem;
  --wp--preset--font-size--lg: 1.125rem;
  --wp--preset--font-size--xl: 1.25rem;
  --wp--preset--font-size--2xl: 1.5rem;
  --wp--preset--font-size--3xl: 1.875rem;
  --wp--preset--font-size--4xl: 2.25rem;
  --wp--preset--font-size--5xl: 3rem;
  --wp--preset--font-size--6xl: 3.75rem;
  --wp--preset--font-size--7xl: 4.5rem;
  --wp--preset--font-size--8xl: 6rem;
  --wp--preset--font-size--9xl: 8rem;

  /* Semantic color mappings (matching Moiraine/Ollie structure) */
  --color-primary:        var(--wp--preset--color--primary);
  --color-primary-accent: var(--wp--preset--color--primary-accent);
  --color-primary-dark:   var(--wp--preset--color--primary-dark);
  --color-main:           var(--wp--preset--color--main);
  --color-main-accent:    var(--wp--preset--color--main-accent);
  --color-base:           var(--wp--preset--color--base);
  --color-secondary:      var(--wp--preset--color--secondary);
  --color-tertiary:       var(--wp--preset--color--tertiary);
  --color-border-light:   var(--wp--preset--color--border-light);
  --color-border-dark:    var(--wp--preset--color--border-dark);
}

/* -----------------------------------------------------------------------------
 * 3. Typography & General Content Styling
 * -------------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * 3.1. Headings & Paragraphs
 * -------------------------------------------------------------------------- */

/* Prevent horizontal scrollbar from Slick carousel
 * The carousel's .slick-track extends beyond viewport for infinite scrolling
 * Note: .alignfull blocks are now self-constrained with max-width: 100vw
 */
html,
body {
  max-width: 100%;
  overflow-x: hidden;
}

/*
 * Heading styles - moved from theme.json for easier override
 * These styles apply to all h1-h6 elements across the site
 */
h1 {
  font-family: var(--font-open-sans);
  font-weight: 800;
  font-size: var(--wp--preset--font-size--3xl);
  line-height: 1.2;
  color: white;
}

h2 {
  font-family: var(--font-open-sans);
  font-weight: 700;
  font-size: var(--wp--preset--font-size--3xl);
  line-height: 1.3;
  color: black;
}

h3 {
  font-family: var(--font-open-sans);
  font-weight: 600;
  font-size: var(--wp--preset--font-size--2xl);
  line-height: 1.4;
  color: black;
}

h4 {
  font-family: var(--font-open-sans);
  font-weight: 500;
  font-size: var(--wp--preset--font-size--xl);
  line-height: 1.4;
  color: black;
}

h5 {
  font-family: var(--font-open-sans);
  font-weight: 400;
  font-size: var(--wp--preset--font-size--lg);
  line-height: 1.4;
  color: black;
}

h6 {
  font-family: var(--font-open-sans);
  font-weight: 300;
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.4;
  color: black;
}

/* Paragraph styles - moved from theme.json */
p {
  font-family: var(--font-open-sans);
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.8;
  color: var(--color-main-accent);
}

/* List item styles to match paragraph styling */
li {
  font-family: var(--font-open-sans);
  font-size: var(--wp--preset--font-size--base);
  line-height: 1.8;
  color: var(--color-main-accent);
}

/* Standard paragraph styling within content */
.e-content p {
  font-family: var(--font-open-sans);
  @apply text-base leading-relaxed;
  color: var(--color-main-accent);
}

/* -----------------------------------------------------------------------------
 * 3.2. Link Styling
 * -------------------------------------------------------------------------- */

/* Global link fine-tuning (TT25 approach) — inside @layer base so utilities win */
@layer base {
  a {
    text-decoration-thickness: 1px;
    text-underline-offset: 0.15em;
  }
}

/* Content area links — colored, underline inherited from browser default */
:is(.e-content, .entry-content, .post-content, .page-content, .prose, .wp-block-post-content)
  a:not(.wp-element-button) {
  color: var(--color-primary);
  transition: color 0.2s ease;
}

:is(.e-content, .entry-content, .post-content, .page-content, .prose, .wp-block-post-content)
  a:not(.wp-element-button):hover {
  color: var(--color-primary-dark);
}

/* Suppress underlines where links are navigational or decorative */
.entry-title a,
.entry-summary a,
#menu a,
footer a {
  text-decoration: none;
  color: inherit;
}

/* Logo link — suppress underline, force white color against WP inline styles */
#logo a {
  text-decoration: none;
  color: #ffffff;
}

/* -----------------------------------------------------------------------------
 * 3.3. Navigation Links
 * -------------------------------------------------------------------------- */

/* Navigation link colors */
#menu a {
  color: var(--color-secondary); /* #98999a - light gray */
}

/* Navigation hover state */
#menu a:hover {
  color: #ffffff;
}

/* Navigation dropdown - pseudo-element bridge to prevent gap hover issues */
/* Creates an invisible bridge between parent menu item and dropdown menu */
/* This fills the mt-2 gap so hover state doesn't break when moving to dropdown */
@media (min-width: 1024px) {
  #menu .group.relative:has(> ul[role="menu"])::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    height: 0.5rem; /* 8px bridge to fill mt-2 gap */
    z-index: 49; /* Below dropdown (z-50) but above page content */
    display: block;
  }
}

/* -----------------------------------------------------------------------------
 * 4. Code & Block Styling
 * -------------------------------------------------------------------------- */

/* Inline code styling */
code {
  @apply text-sm whitespace-normal wrap-break-word bg-gray-100 border-gray-200 border-2 rounded-sm font-menlo text-gray-800;
}

/* Code block styling */
pre > code {
  @apply block whitespace-pre-wrap wrap-break-word leading-6 border-none;
}

/* WordPress code block */
.wp-block-code {
  @apply my-5 rounded-md bg-gray-100 pt-5 px-6 pb-6 md:mr-5 font-menlo;
}

/* Latest posts block styling */
.post .wp-block-latest-posts__list {
  @apply list-disc leading-7 text-gray-500;
}

.post .wp-block-latest-posts__list .wp-block-latest-posts__post-title {
  @apply text-main-accent;
}

.wp-block-list {
  @apply list-disc list-inside;
}

/* -----------------------------------------------------------------------------
 * 5. Page & Post Styling
 * -------------------------------------------------------------------------- */

/* Page list styling */
.page .main ul {
  @apply list-disc pl-5 my-3;
}

/* -----------------------------------------------------------------------------
 * 6. Form Styling (Gravity Forms)
 * -------------------------------------------------------------------------- */

/**
 * Custom styles for Gravity Forms on top of theme styling in
 * block editor using the Orbital theme.
 */
 	
body .gform_wrapper .gform_body .gform_fields .gfield input,
body .gform_wrapper .gform_body .gform_fields .gfield textarea {
  @apply block w-full p-6 border border-gray-300 rounded-lg
  bg-gray-50 text-base focus:ring-blue-500 focus:border-blue-500;
  color: var(--color-main);
}

body .gform_wrapper .gform_body {
  @apply mx-3 md:mx-0;
}

/* -----------------------------------------------------------------------------
 * 7. WooCommerce Styling
 * -------------------------------------------------------------------------- */

/* -----------------------------------------------------------------------------
 * 7.1. Single Product
 * -------------------------------------------------------------------------- */

/* Product title styles removed - using theme.json heading styles instead */

.single-product .price {
  @apply font-open-sans font-semibold text-2xl leading-9 pr-5 mr-5;
  color: var(--color-main);
}

.single-product .woocommerce-product-details__short-description {
  @apply text-base font-normal mb-5;
  color: var(--color-main-accent);
}

.single-product .quantity {
  @apply flex sm:items-center sm:justify-center w-full;
}

.single-product .quantity .qty {
  @apply font-semibold cursor-pointer text-lg py-3.25 px-6 w-full sm:max-w-29.5
  outline-0 border-y border-gray-400 mb-4 bg-transparent text-center hover:bg-gray-50;
  color: var(--color-main);
}

.single-product .quantity .qty::placeholder {
  color: var(--color-main);
}

/* if reapplied again need to check need for rounded corners*/
.single-product .single_add_to_cart_button {
  @apply text-center w-full px-5 py-4 rounded-[100px] bg-indigo-600 flex items-center justify-center font-semibold text-lg 
  text-white shadow-sm transition-all duration-500 hover:bg-indigo-700 hover:shadow-indigo-400;
}

.single-product .product_meta {
  @apply text-gray-500 text-sm mt-4;
}

.single-product .woocommerce-product-gallery {
  @apply h-full max-lg:mx-auto;
}

.single-product .woocommerce-product-gallery__image img {
  @apply max-lg:mx-auto lg:ml-auto h-full object-cover;
}


/* -----------------------------------------------------------------------------
 * 7.2. Product Gallery
 * -------------------------------------------------------------------------- */

.woocommerce-product-gallery {
  @apply relative w-full max-w-2xl mx-auto;
}

.woocommerce-product-gallery__wrapper {
  @apply relative aspect-4/5 w-full;
}

.woocommerce-product-gallery__image {
  @apply h-full w-full;
}

.woocommerce-product-gallery__image img {
  @apply h-full w-full object-cover;
}

.woocommerce-product-gallery__trigger {
  @apply absolute right-4 top-4 z-10 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md;
}

/* Fix zoom image container */
.zoomImg {
  @apply max-w-none max-h-none;
}

/**
* WooCommerce Product Description 
*/
.single-product .prose {
  @apply text-gray-600;
}

/* Product description heading styles removed - using theme.json heading styles instead */

.single-product .prose p {
  @apply mb-4  text-neutral-500 font-open-sans text-lg;
}

.single-product .prose ul {
  @apply list-disc pl-5 mb-4;
}

.single-product .prose li {
  @apply text-neutral-500 font-open-sans text-lg;
}

/**
 * WooCommerce Product Gallery
 */
.product-gallery {
  @apply relative w-full;
}

.gallery-main {
  @apply w-full mb-4;
}

.gallery-main img {
  @apply w-full h-auto object-cover;
}

.gallery-thumbs {
  @apply grid grid-cols-[repeat(auto-fill,minmax(80px,1fr))] gap-2 w-full;
}

.gallery-thumb {
  @apply cursor-pointer opacity-60 transition-opacity duration-200;
}

.gallery-thumb:hover,
.gallery-thumb.active {
  @apply opacity-100;
}

.gallery-thumb img {
  @apply w-full h-auto object-cover;
}

/* -----------------------------------------------------------------------------
 * 7.3. Product Archive
 * -------------------------------------------------------------------------- */

.woocommerce ul.products li.product a img {
  @apply transition duration-300 ease-in-out;
}

.woocommerce ul.products li.product a img:hover {
  @apply filter brightness-75;
}

.woocommerce-products-header {
  @apply my-4 ml-6 sm:ml-8 font-open-sans text-black font-semibold text-lg;
}

.post-type-archive-product .products .add_to_cart_button {
  @apply text-center w-full px-3 py-2 bg-indigo-600 flex items-center justify-center font-semibold text-lg
  text-white hover:text-white shadow-sm transition-all duration-500 hover:bg-indigo-700 hover:shadow-indigo-400;
}

/* -----------------------------------------------------------------------------
 * 7.4. Breadcrumbs
 * -------------------------------------------------------------------------- */

.single-product .woocommerce-breadcrumb,
.post-type-archive-product .site-main .woocommerce-breadcrumb {
  @apply my-4 ml-6 sm:ml-8 font-open-sans text-gray-500 font-semibold text-sm;
}

/* -----------------------------------------------------------------------------
 * 8. Comments Styling
 * -------------------------------------------------------------------------- */

.comment-metadata {
  @apply my-2;
}

.comment-author img {
  @apply mb-4;
}

.comment-form .submit {
  @apply bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6
  shadow-sm transition-all duration-300 cursor-pointer w-full sm:w-auto;
}

.comment-form input[type="text"],
.comment-form input[type="email"],
.comment-form input[type="url"],
.comment-form textarea {
  @apply block w-full p-3 border border-gray-300 rounded-lg
  bg-gray-50 text-base focus:ring-indigo-500 focus:border-indigo-500;
  color: var(--color-main);
}

.comment-form label {
  @apply block mb-1 font-medium text-gray-700;
}

/* -----------------------------------------------------------------------------
 * 9. Pattern Block Styling
 * -------------------------------------------------------------------------- */

/* Removed the duplicate ::before content rules that were creating duplicate icons */

.pricing-table-container .feature-item {
  @apply mb-4;
}

/* Custom badge styling */
.pricing-table-container .popular-badge {
  @apply py-1 px-3 rounded-full text-xs font-semibold;
  background-color: var(--wp--preset--color--primary-accent, #e9e7ff);
  color: var(--wp--preset--color--primary, #5344F4);
}

/* Add subtle hover effect to pricing columns */
.pricing-table-container .wp-block-column {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.pricing-table-container .wp-block-column:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
}

/* Style the CTA button hover state */
.pricing-table-container .wp-block-button__link:hover {
  filter: brightness(0.95);
}

/* Add subtle hover effect to pricing columns */
.modern-pricing-table-container .wp-block-column {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.modern-pricing-table-container .wp-block-column:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
}

/* Style the CTA button hover state */
.modern-pricing-table-container .wp-block-button__link:hover {
  filter: brightness(0.95);
}

/* Block editor color utility classes (semantic naming) */
.has-primary-color        { color: var(--color-primary); }
.has-primary-accent-color { color: var(--color-primary-accent); }
.has-primary-dark-color   { color: var(--color-primary-dark); }
.has-main-color           { color: var(--color-main); }
.has-main-accent-color    { color: var(--color-main-accent); }
.has-base-color           { color: var(--color-base); }
.has-secondary-color      { color: var(--color-secondary); }
.has-tertiary-color       { color: var(--color-tertiary); }
.has-border-light-color   { color: var(--color-border-light); }
.has-border-dark-color    { color: var(--color-border-dark); }

/* Block editor font family utility classes */
.has-open-sans-font-family  { font-family: var(--font-open-sans); }
.has-montserrat-font-family { font-family: var(--font-montserrat); }

/* -----------------------------------------------------------------------------
 * 10. Button Style Variants (matching Moiraine patterns)
 * -------------------------------------------------------------------------- */

/* Default button styles - reset to ensure no double borders */
.wp-block-button .wp-block-button__link {
  border: none;
  transition: all 0.2s ease; /* Smooth transition for all button interactions */
}

/* Scoped hover effects - only apply to Nynaeve custom button styles and default fill style
 * This prevents interference with WooCommerce and other plugin/theme patterns
 * Adds subtle lift effect and shadow for professional interaction feedback */
.wp-block-button.is-style-fill .wp-block-button__link:hover,
.wp-block-button:not([class*="is-style-"]) .wp-block-button__link:hover {
  filter: brightness(0.9);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Add lift effect to Nynaeve custom button styles (but not brightness - they have color transitions) */
.wp-block-button.is-style-minimal .wp-block-button__link:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Outline button style (existing) */
.wp-block-button.is-style-outline .wp-block-button__link {
  background-color: transparent;
  border: 2px solid currentColor;
  color: var(--wp--preset--color--main, #1E1E26);
}

.wp-block-button.is-style-outline .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--main, #1E1E26);
  color: white;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Minimal button style - transparent background with thin border and small size */
.wp-block-button.is-style-minimal .wp-block-button__link {
  background-color: transparent;
  border: 1px solid var(--wp--preset--color--border-light, #E3E3F0);
  color: var(--wp--preset--color--main, #1E1E26);
  font-size: 0.75rem; /* x-small size */
  padding: 0.5rem 1rem;
  font-weight: 600;
}

.wp-block-button.is-style-minimal .wp-block-button__link:hover {
  background-color: var(--wp--preset--color--main, #1E1E26);
  color: white;
  border-color: var(--wp--preset--color--main, #1E1E26);
}

/* Support for x-small font size class used in Moiraine patterns */
.wp-block-button.has-x-small-font-size .wp-block-button__link {
  font-size: 0.75rem;
  padding: 0.5rem 1rem;
}

/* -----------------------------------------------------------------------------
 * 11. WordPress Layout Fixes
 * -------------------------------------------------------------------------- */

/**
 * WordPress-Native Layout System
 *
 * WordPress core handles max-width and centering, but NOT horizontal padding.
 * These rules add padding to prevent content from touching viewport edges on mobile.
 *
 * See: docs/CONTENT-WIDTH-AND-LAYOUT.md for full documentation
 */

/**
 * Padding for Standalone Content (paragraphs, headings, lists, images)
 *
 * This rule adds horizontal padding to content that is NOT inside a block wrapper.
 * Examples: standalone paragraphs, headings, lists, images added directly to the page.
 *
 * Excludes .alignwide and .alignfull blocks - they manage their own layout.
 * Uses :where() for zero specificity - allows user-defined padding to override.
 *
 * IMPORTANT: This works alongside block-specific padding (Option 3).
 * - Standalone content: Gets padding from this rule
 * - Blocks with full-width backgrounds: Handle their own padding in block CSS
 */
:where(.is-layout-constrained) > :not(.alignfull):not(.alignwide) {
  padding-left: var(--wp--preset--spacing--50);
  padding-right: var(--wp--preset--spacing--50);
}

/**
 * Override universal padding for blocks with inner wrappers
 *
 * Some blocks use WordPress's .wp-block-group__inner-container or similar wrappers
 * that already handle padding. This prevents double padding on those blocks.
 *
 * Blocks with this pattern:
 * - About Block: Uses .wp-block-group__inner-container wrapper
 * - Pricing Block: Has nested core/group that creates .wp-block-group__inner-container
 * - Any future blocks using WordPress group patterns
 */
.wp-block-imagewize-about .wp-block-group__inner-container > *,
.wp-block-imagewize-pricing .wp-block-group__inner-container > * {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/**
 * Block-Specific Padding Approach (Option 3)
 *
 * Each block that needs horizontal padding handles it in its own CSS file.
 * This prevents conflicts between different block patterns and gives each block full control.
 *
 * Blocks that need padding add it in their own style.css:
 * - CTA Columns: Padding on direct children
 * - Multi-Column-Content: Padding on direct children
 * - Page Heading Blue: Padding on __content wrapper (already has it)
 * - Other blocks: Handle their own padding as needed
 *
 * This approach:
 * - Avoids universal selectors that cause conflicts
 * - Each block is self-contained and predictable
 * - Easy to debug (padding is where the block is defined)
 * - No triple-padding issues
 * - Full-width background blocks work correctly
 *
 * See: docs/CONTENT-WIDTH-AND-LAYOUT.md for full explanation
 */

/* -----------------------------------------------------------------------------
 * 12. Mobile Navigation Accordion
 * -------------------------------------------------------------------------- */

/**
 * Mobile submenu accordion animation
 * Uses CSS-only checkbox technique for smooth expand/collapse
 */

/* Chevron rotation when submenu is open (mobile) - rotate from down (0deg) to up (180deg) */
.submenu-toggle-checkbox:checked ~ div .submenu-chevron svg {
  transform: rotate(180deg);
}

/* Submenu expansion when checkbox is checked */
.submenu-toggle-checkbox:checked ~ .submenu-list {
  grid-template-rows: 1fr;
}

/* Nested mobile submenu expansion */
.submenu-toggle-checkbox:checked ~ .submenu-list .submenu-toggle-checkbox:checked ~ .submenu-list {
  grid-template-rows: 1fr;
}

/* Desktop hover behavior for submenu (opacity fade) */
@media (min-width: 1024px) {
  /* Desktop hover behavior for submenu (opacity fade) */
  .submenu-list {
    display: block !important; /* Override mobile grid display */
    opacity: 0;
    pointer-events: none;
    transition: opacity 300ms ease-in-out;
    grid-template-rows: unset !important; /* Override mobile grid */
    overflow: visible; /* Allow nested dropdowns to extend outside parent */
  }

  /* First level dropdowns - show when hovering parent menu item */
  .group:hover > .submenu-list {
    opacity: 1;
    pointer-events: auto;
  }

  /* Second level dropdowns - show when hovering first level menu item */
  .group:hover > .submenu-list .group:hover > .submenu-list {
    opacity: 1;
    pointer-events: auto;
  }

  /* Third level and deeper dropdowns */
  .group:hover > .submenu-list .group:hover > .submenu-list .group:hover > .submenu-list {
    opacity: 1;
    pointer-events: auto;
  }

  /* Remove borders from all dropdown menu items */
  .submenu-list > div > li {
    border: none;
    border-top: none;
    border-bottom: none;
  }

  /* Remove active menu item underline from dropdown items */
  .submenu-list > div > li.active:before {
    display: none;
  }

  /* Remove any bottom borders/padding from first dropdown item */
  .submenu-list > div > li:first-child {
    border-top: none;
    padding-top: 0.5rem;
  }

  .submenu-list > div > li:last-child {
    padding-bottom: 0.5rem;
  }

  /* Nested items (level 1+): Always point right (-90deg = clockwise to right) */
  .submenu-chevron[data-level]:not([data-level="0"]) svg {
    transform: rotate(-90deg);
  }

  /* Level 0 items: rotate down chevron to up (180deg) on hover */
  .group:hover > div .submenu-chevron[data-level="0"] svg {
    transform: rotate(180deg);
  }

  /* Positioning for nested dropdowns */
  /* First level dropdowns (below parent) */
  .submenu-list {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 0.5rem;
    background-color: #1a2332; /* bg-dropdown-bg - dark blue-gray for all dropdowns */
    border-radius: 0.125rem; /* rounded-sm */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); /* shadow-lg */
  }

  /* Second level and deeper dropdowns (to the right of parent) */
  .submenu-list .submenu-list {
    position: absolute;
    top: 0;
    left: 100%;
    margin-left: 0; /* No gap between parent and nested dropdown */
    margin-top: 0; /* Reset margin-top from parent rule */
    background-color: #1a2332; /* Same solid blue-gray as first-level dropdowns */
    border-radius: 0.125rem; /* rounded-sm */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); /* Ensure shadow-lg applies */
  }

  /* Ensure nested dropdowns have proper z-index */
  .submenu-list {
    z-index: 50;
  }

  .submenu-list .submenu-list {
    z-index: 60;
  }

  .submenu-list .submenu-list .submenu-list {
    z-index: 70;
  }
}

/* -----------------------------------------------------------------------------
 * 13. WooCommerce Product Page Content Styling
 * -------------------------------------------------------------------------- */

/**
 * Single Product Page - Typography and Color Overrides
 *
 * Forces consistent dark text color (var(--color-main)) for all headings and
 * paragraphs in product content area, overriding any block editor color classes.
 *
 * This ensures:
 * - Headings (H2, H3) use main color (#171b23 - dark)
 * - Paragraphs use main color for maximum readability
 * - No hardcoded block editor color classes interfere with design
 *
 * Note: This overrides the default WordPress block color system for products only.
 * Regular blog posts and pages use different color hierarchy via .e-content styles.
 */
.single-product .product-full-content h3,
.single-product .product-full-content h2,
.single-product .product-full-content p {
  color: var(--color-main);
}

/* -----------------------------------------------------------------------------
 * 14. Search Results Page
 * -------------------------------------------------------------------------- */

.search-results-list {
  display: flex;
  flex-direction: column;
}

.search-result-item {
  padding: 2rem 0;
  border-bottom: 1px solid #e5e7eb;
}

.search-result-item:first-child {
  padding-top: 0;
}

.search-result-title {
  font-size: 1.375rem;
  font-weight: 700;
  line-height: 1.3;
  margin: 0 0 0.5rem;
}

.search-result-title a {
  color: var(--color-main);
  text-decoration: none;
  transition: color 0.15s;
}

.search-result-title a:hover {
  color: var(--color-primary, #1d4ed8);
}

.search-result-type {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-secondary, #e5a000);
  background: rgba(229, 160, 0, 0.1);
  padding: 0.2rem 0.6rem;
  border-radius: 3px;
  margin-bottom: 0.75rem;
}

.search-result-excerpt {
  color: #4b5563;
  font-size: 0.95rem;
  line-height: 1.65;
  margin: 0.75rem 0 1rem;
}

.search-result-excerpt p {
  margin: 0;
}

.search-result-readmore {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-primary, #1d4ed8);
  text-decoration: none;
  transition: gap 0.15s;
}

.search-result-readmore:hover {
  gap: 0.55rem;
}

/* entry-meta inside search results */
.search-results-page .entry-meta {
  font-size: 0.8rem;
  color: #6b7280;
  margin-bottom: 0.25rem;
}

.search-results-page .entry-meta a {
  color: #6b7280;
  text-decoration: none;
}

.search-results-page .entry-meta a:hover {
  color: var(--color-primary, #1d4ed8);
}

/* posts navigation */
.search-results-page .nav-links {
  display: flex;
  gap: 1rem;
  margin-top: 2.5rem;
  padding-top: 2rem;
  border-top: 1px solid #e5e7eb;
}

.search-results-page .nav-links a {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-primary, #1d4ed8);
  text-decoration: none;
}

/* -----------------------------------------------------------------------------
 * 15. Search Overlay
 * -------------------------------------------------------------------------- */

.search-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 10, 0.96);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.search-overlay.is-open {
  opacity: 1;
  pointer-events: auto;
}

.search-overlay-inner {
  width: 100%;
  max-width: 680px;
  padding: 1.5rem;
  position: relative;
}

.search-overlay-close {
  position: absolute;
  top: -2.5rem;
  right: 1.5rem;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 0;
  line-height: 1;
  transition: color 0.15s;
}

.search-overlay-close:hover {
  color: #fff;
}

.search-overlay-form {
  display: flex;
  align-items: center;
  border-bottom: 2px solid var(--color-secondary, #e5a000);
  gap: 0.75rem;
}

.search-overlay-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: #fff;
  font-size: clamp(1.5rem, 4vw, 2rem);
  padding: 0.5rem 0;
  caret-color: var(--color-secondary, #e5a000);
}

.search-overlay-input::placeholder {
  color: rgba(255, 255, 255, 0.3);
}

/* Remove browser default search cancel button */
.search-overlay-input::-webkit-search-cancel-button {
  display: none;
}

.search-overlay-submit {
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  padding: 0.25rem;
  flex-shrink: 0;
  transition: color 0.15s;
}

.search-overlay-submit:hover {
  color: #fff;
}

.search-overlay-hint {
  margin-top: 1.25rem;
  color: rgba(255, 255, 255, 0.3);
  font-size: 0.8rem;
  text-align: center;
  letter-spacing: 0.02em;
}
