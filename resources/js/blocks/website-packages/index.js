import { createElement } from '@wordpress/element';
import { registerBlockType } from '@wordpress/blocks';
import { InnerBlocks, useBlockProps } from '@wordpress/block-editor';
import metadata from './block.json';

registerBlockType('nynaeve/website-packages', {
  ...metadata,
  edit: function () {
    const blockProps = useBlockProps({ className: 'wp-block-nynaeve-website-packages' });

    return createElement(
      'div',
      blockProps,
      createElement(InnerBlocks, {
        template: [
          ['core/columns', {}, [
            ['core/column', {}, [
              ['core/heading', { level: 3, content: 'Feature' }],
              ['core/paragraph', { content: 'Hosting' }],
              ['core/paragraph', { content: 'Theme' }],
              ['core/paragraph', { content: 'Customization' }],
              ['core/paragraph', { content: 'Performance' }],
              ['core/paragraph', { content: 'Updates & Maintenance' }],
              ['core/paragraph', { content: 'Pricing' }],
            ]],
            ['core/column', {}, [
              ['core/heading', { level: 3, content: 'Standard' }],
              ['core/paragraph', { content: 'Antagonist.nl' }],
              ['core/paragraph', { content: 'Ready-made block theme' }],
              ['core/paragraph', { content: 'Limited' }],
              ['core/paragraph', { content: 'Good' }],
              ['core/paragraph', { content: 'Self-managed' }],
              ['core/paragraph', { content: 'Starting from €X' }],
            ]],
            ['core/column', {}, [
              ['core/heading', { level: 3, content: 'Premium' }],
              ['core/paragraph', { content: 'Trellis-based hosting' }],
              ['core/paragraph', { content: 'Custom block theme (OllieWP/Sage 11)' }],
              ['core/paragraph', { content: 'Full customization' }],
              ['core/paragraph', { content: 'Optimized for speed & security' }],
              ['core/paragraph', { content: 'Optional maintenance' }],
              ['core/paragraph', { content: 'Starting from €X' }],
            ]],
          ]],
        ],
        templateLock: false, // Allow users to edit the structure if needed
      })
    );
  },
  save: function () {
    const blockProps = useBlockProps.save({ className: 'wp-block-nynaeve-website-packages' });

    return createElement(
      'div',
      blockProps,
      createElement(InnerBlocks.Content, null)
    );
  },
});